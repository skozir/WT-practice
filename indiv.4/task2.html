<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Task.2 - SwitchButton</title>
	<link rel="stylesheet" href="css/style.css">
	<script language="javascript">
	function runTask2() {
		window.localStorage.removeItem("engineTypeButton_SwitchButton");
		var engineTypeButton = new SwitchButton("engineTypeButton");
		assertEqual("electricity", engineTypeButton.getValue(), "Case #0: getValue()");
		engineTypeButton.switchValue();
		assertEqual("any", engineTypeButton.getValue(), "Case #0: switchValue() //1");
		engineTypeButton.switchValue();
		assertEqual("diesel", engineTypeButton.getValue(), "Case #0: switchValue() //2");
		assertEqual(document.getElementById("engineTypeButton"), engineTypeButton.getDiv(), "Case #0: getDiv()");
		assertEqual("INPUT", engineTypeButton.getDiv().firstChild.tagName, "Case #0: <input/>");

		window.localStorage.removeItem("singleChoiseButton_SwitchButton");
		var singleChoiseButton = new SwitchButton("singleChoiseButton");
		assertEqual("uno", singleChoiseButton.getValue(), "Case #1: getValue()");
		singleChoiseButton.switchValue();
		assertEqual("uno", singleChoiseButton.getValue(), "Case #1: switchValue()");

		window.localStorage.setItem("bloodGroupButton_SwitchButton", "B");
		var bloodGroupButton = new SwitchButton("bloodGroupButton");
		assertEqual("B", bloodGroupButton.getValue(), "Case #2: getValue()");
		bloodGroupButton.setValue("0");
		assertEqual("0", bloodGroupButton.getValue(), "Case #2: setValue()");
		assertEqual("0", bloodGroupButton.getDiv().firstChild.innerText, "Case #2: setValue() in HTML");

		var noneButton = new SwitchButton("noneButton");
		assertEqual("None", noneButton.getValue(), "Case #3: getValue()");
	}

	function assertEqual(expectedVal, actualVal, message) {
		if(expectedVal == actualVal) {
			console.log("+", message);
		}
		else {
			console.error("-", message, "(Expected:", expectedVal, "; Actual:", actualVal, ")");
		}
	}
	</script>
</head>
<body>

<p>
	Button 1: <div id="engineTypeButton" style="display: inline"
	               data-options="any;diesel;gasoline;electricity"
                   data-default-value="electricity"></div>
</p>
<p>
	Button 2: <div id="singleChoiseButton" style="display: inline"
	               data-options="uno"></div>
</p>
<p>
	Button 3: <div id="bloodGroupButton" style="display: inline"
	               data-options="0;A;B;AB"></div>
</p>
<p>
	Button 4: <div id="noneButton" style="display: inline"></div>
</p>

</body>
</html>
